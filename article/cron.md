### cron服务

cron是一个linux下的定时执行工具，是linux的内置服务，不会自动起来，
可以用以下的方法启动启动或关闭该服务：
```
/sbin/service crond start  //启动服务
/sbin/service crond stop //关闭服务
/sbin/service restart //重启服务
```

corntab命令有：
```
crontab -e 编辑
crontab -l 列出
crontab -r 删除
```

编辑crontab文件（即编辑cron定时任务）命令：crontab -e
```
crontab 语法为：
分时天 月 周
1 2 3 4 5 /path/to/command arg1 arg2
* * * * * 要执行的命令
----------------
| | | | |
| | | | ---- 周当中的某天 (0 - 7) (周日为 0 或 7)
| | | ------ 月份 (1 - 12)
| | -------- 一月当中的某天 (1 - 31)
| ---------- 小时 (0 - 23)
------------ 分钟 (0 - 59)
```

#### 举个例子

每隔 5 分钟运行一次 command
```
*/5 * * * * command
```
加入一个/5就是表示每隔5分钟执行一次，/符合是一个操作符号下面有说明

每天的5点运行 command
```
0 5 * * * command
```

每月的第3天5:30运行 command
```
30 5 3 * * command
```

列出crontab清单命令
```
crontab -l
```

要删除所有的定时任务命令：
```
crontab -r
```

#### 操作符作用

操作符允许为一个字段指定多个值，有三个操作符可使用：
```
星号 (*) : 此操作符为字段指定所有可用的值。举个例子，在小时字段中，一个星号等同于每个小时；在月份字段中，一个星号则等同于每月。
逗号 (,) : 这个操作符指定了一个包含多个值的列表，例如：1,5,10,15,20,25.
横杠 (-) : 此操作符指定了一个值的范围，例如：5-15 ，等同于使用逗号操作符键入的 5,6,7,8,9,…,13,14,15。
分隔符 (/) : 此操作符指定了一个步进值、间隔值，例如： 0-23/ 可以用于小时字段来指定某个命令每小时被执行一次。该值也可以跟在星号操作符后边，如果你希望命令行每1小时执行一次，则可以*/1。
```

清理系统用户的邮件日志：

每条任务调度执行完毕后，系统都会将任务输出信息通过电子邮件的形式发送给当前系统用户，
这样日积月累，日志信息会非常大，可能会影响系统的正常运行，因此，将每条任务进行重定向处理非常重要。举个例子，可以在crontab
文件中设置如下形式，忽略日志输出：

```
0 */3 * * * /usr/local/apache2/apachectl restart >/dev/null 2>&1
```

"/dev/null 2>&1"表示先将标准输出重定向到/dev/null，然后将标准错误重定向到标准输出，由于标准输出已经重定向到了/dev/null,
因此标准错误也会重定向到/dev/null,这样日志输出问题就解决了。